[storage]
enabled = true
file_size_limit = "50MiB"

[storage.image_transformation]
enabled = true

# Edge Functions
# verify_jwt = false because our middleware (withMiddleware) handles
# authentication and RBAC permission checks. The gateway JWT check
# is redundant and causes 401s when tokens are briefly expired
# during auto-refresh.

[functions.auth-invite]
verify_jwt = false

[functions.auth-accept-invite]
verify_jwt = false

[functions.ifood-connect]
verify_jwt = false

[functions.ifood-refresh-token]
verify_jwt = false

[functions.ifood-sync-restaurants]
verify_jwt = false

[functions.ifood-collect-data]
verify_jwt = false

[functions.report-generate]
verify_jwt = false

[functions.report-send]
verify_jwt = false

[functions.review-auto-respond]
verify_jwt = false

[functions.ticket-auto-respond]
verify_jwt = false

[functions.image-generate]
verify_jwt = false

[functions.image-apply-catalog]
verify_jwt = false

[functions.financial-export]
verify_jwt = false

[functions.admin-stats]
verify_jwt = false

[functions.admin-send-notification]
verify_jwt = false

[functions.whatsapp-instance]
verify_jwt = false
